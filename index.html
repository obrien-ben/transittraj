<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Reconstruct and Visualize Transit Vehicle Trajectories • transittraj</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Reconstruct and Visualize Transit Vehicle Trajectories">
<meta name="description" content="Today's public transit vehicles produce a large amount of automatic vehicle location (AVL) data. This data is very useful for planning and performance studies, but can be noisy, error-prone, and sparse. This package provides tools for cleaning AVL point data and turning it into continuous, differentiable, monotonic, and invertible vehicle trajectory functions.">
<meta property="og:description" content="Today's public transit vehicles produce a large amount of automatic vehicle location (AVL) data. This data is very useful for planning and performance studies, but can be noisy, error-prone, and sparse. This package provides tools for cleaning AVL point data and turning it into continuous, differentiable, monotonic, and invertible vehicle trajectory functions.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">transittraj</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><h6 class="dropdown-header" data-toc-skip>Data</h6></li>
    <li><a class="dropdown-item" href="articles/input-data.html">Overview of Data</a></li>
    <li><a class="dropdown-item" href="articles/data-workflow.html">AVL Cleaning</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>Trajectories</h6></li>
    <li><a class="dropdown-item" href="articles/intro-trajectories.html">Intro to Trajectories</a></li>
    <li><a class="dropdown-item" href="articles/trajectory-objects.html">Understanding Trajectory Objects</a></li>
    <li><a class="dropdown-item" href="articles/plotting-trajectories.html">Plotting Trajectories</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/UTEL-UIUC/transittraj/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="transittraj">transittraj<a class="anchor" aria-label="anchor" href="#transittraj"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>An R package for reconstructing and visualizing transit vehicle trajectories.</p>
<p>This is an early development version of <code>transittraj</code>. Expect it to change without warning.</p>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Today’s transit vehicles generate a large amount of automatic vehicle location (AVL) data. This data is vital in planning and performance studies, but turning sparse and noisy GPS pings into meaningful performance metrics is difficult. <code>transittraj</code> fills this gap, integrating with existing open data standards, including GTFS and TIDES, to provide tools for cleaning AVL data and fitting continuous, monotonic, invertible, and differentiable trajectory curves. By doing so, <code>transittraj</code> provides versatile and powerful tools to analyze transit system performance and support decision-making.</p>
<p>You can install the development version of <code>transittraj</code> from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"UTEL-UIUC/transittraj"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="what-and-why">What and Why<a class="anchor" aria-label="anchor" href="#what-and-why"></a>
</h2>
<p>The primary goal of <code>transittraj</code> is to reconstruct <em>trajectories</em> of transit vehicles from AVL data. A trajectory is a function which describes the one-dimensional position (i.e., the distance from a trip’s beginning) of a transit vehicle over time. Vehicle trajectories are incredibly powerful and versatile tools, and are widely used by traffic engineers and operations researchers for planning and system performance studies.</p>
<p>Despite this, there is a gap between transit practice and the field of trajectory research. Transit practitioners and researchers rarely have the opportunity to see detailed trajectories of their vehicles, and instead typically only receive finalized metrics – such as dwell time and segment-level travel times – from analytics platforms and AVL providers. If practioners and researchers want a trajectory, they may look to trajectory research in parallel fields. Transit data is unique, though, making it difficult to transfer methods. We have both opportunities and challenges:</p>
<ul>
<li><p><em>Opportunities</em>: Transit vehicles follow a known path; we need not worry about lane changing or lateral position, and can measure a vehicle’s progress linearly along that path. Additionally, transit has standardized data formats, such as <a href="https://gtfs.org/" class="external-link">GTFS</a> for schedule and route alignment, and <a href="https://tides-transit.org/main/" class="external-link">TIDES</a> for vehicle locations.</p></li>
<li><p><em>Challenges</em>: Transit AVL data is sparse, typically pinging every 15-30 seconds. This is a challenge because the stop-and-go cycles of transit vehicles – including stop dwells, signal delays, congestion slowdowns, and more – occur with the same frequency as these pings. This contrasts much of the research in traffic trajectory construction, which has near-continuous data points in free-flow, or at least uncongested, traffic conditions.</p></li>
</ul>
<p>These challenges inform our general approach to trajectory reconstruction: use all the data we have to fit an interpolation curve. This contrasts the smoothing techniques common in other fields, which may oversmooth the stops and slowdowns transit vehicles experience in real urban traffic.</p>
<p>There are two main steps to the <code>transittraj</code> workflow. The first is AVL cleaning, where we focus on correcting point observations, such as infeasible jumps and outliers or backwards drifting during stopping events. Then, we use position and speed measurements from the cleaned AVL data to fit a trajectory curve. The trajectory has four important attributes:</p>
<ul>
<li><p><em>Continuous</em>: There should be no gaps in the trajectory for each trip.</p></li>
<li><p><em>Monotonic</em>: The trajectory should be strictly increasing – transit vehicles typically don’t back up in service.</p></li>
<li><p><em>Invertible</em>: If a curve satisfies the previous two points, it will also be invertible. This lets us retrieve time as a function of distance, incredibly useful if one wants to know when a vehicle passed a certain point on its route.</p></li>
<li><p><em>Differentiable</em>: At any point on the curve, we should be able to interpolate for the speed of the vehicle. This allows us to generate a continuous speed profile of each vehicle’s trip.</p></li>
</ul>
<div class="figure" style="text-align: center">
<img src="reference/figures/README-example_traj.png" alt="A `transittraj` trajectory meeting our four requirements" width="100%"><p class="caption">
A <code>transittraj</code> trajectory meeting our four requirements
</p>
</div>
<p><code>transittraj</code> aims to make these workflows as smooth and accessible as possible. We begin with data that adheres to industry standard data formats, including GTFS and TIDES. In our cleaning and trajectory fitting, we provide versatile and flexible functions, but avoid techniques which require complex tuning. Finally, we provide a handful of helper functions to make it easy to use and visualize your fit trajectory curves. This website hosts the package’s full documentation, and includes examples of complete <code>transittraj</code> workflows. Check out some of the vignettes below to get started.</p>
</div>
<div class="section level2">
<h2 id="getting-started-with-transittraj">Getting Started with <code>transittraj</code>
<a class="anchor" aria-label="anchor" href="#getting-started-with-transittraj"></a>
</h2>
<p>Check out the following vignettes to learn more about how to use <code>transittraj</code>:</p>
<ul>
<li><p><a href="https://utel-uiuc.github.io/transittraj/articles/input-data.html" class="external-link">Understanding Data Inputs</a></p></li>
<li><p><a href="https://utel-uiuc.github.io/transittraj/articles/data-workflow.html" class="external-link">The AVL Cleaning Workflow</a></p></li>
<li><p><a href="https://utel-uiuc.github.io/transittraj/articles/intro-trajectories.html" class="external-link">Using Trajectories</a></p></li>
</ul>
</div>
<div class="section level2">
<h2 id="works-in-progress">Works in Progress<a class="anchor" aria-label="anchor" href="#works-in-progress"></a>
</h2>
<p>This package is still in early development. In prepartion for an eventual submission to CRAN, we’re still working on the following:</p>
<ul>
<li><p>Examples in all function documentation</p></li>
<li><p>Sample datasets to include with <code>transittraj</code></p></li>
<li><p>Formal automated testing</p></li>
<li><p>More vignettes</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p><code>transittraj</code> is free and open source, but if you find the package helpful, we’d appreciate a citation:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">utils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/utils/citation.html" class="external-link">citation</a></span><span class="op">(</span><span class="st">"transittraj"</span><span class="op">)</span></span>
<span><span class="co">#&gt; To cite package 'transittraj' in publications use:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   O'Brien B, Lehe L (2026). _transittraj: Reconstruct and Visualize</span></span>
<span><span class="co">#&gt;   Transit Vehicle Trajectories_. R package version 0.0.0.9000, commit</span></span>
<span><span class="co">#&gt;   ce1262e5ffde138ec4e1f3708416cda4ab3810bc,</span></span>
<span><span class="co">#&gt;   &lt;https://github.com/UTEL-UIUC/transittraj&gt;.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; A BibTeX entry for LaTeX users is</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   @Manual{,</span></span>
<span><span class="co">#&gt;     title = {transittraj: Reconstruct and Visualize Transit Vehicle Trajectories},</span></span>
<span><span class="co">#&gt;     author = {Benjamin O'Brien and Lewis Lehe},</span></span>
<span><span class="co">#&gt;     year = {2026},</span></span>
<span><span class="co">#&gt;     note = {R package version 0.0.0.9000, commit ce1262e5ffde138ec4e1f3708416cda4ab3810bc},</span></span>
<span><span class="co">#&gt;     url = {https://github.com/UTEL-UIUC/transittraj},</span></span>
<span><span class="co">#&gt;   }</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/UTEL-UIUC/transittraj/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/UTEL-UIUC/transittraj/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing transittraj</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Benjamin O'Brien <br><small class="roles"> Author, maintainer, copyright holder </small>   </li>
<li>Lewis Lehe <br><small class="roles"> Author </small>   </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Benjamin O’Brien, Lewis Lehe.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
