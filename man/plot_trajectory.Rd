% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/trajectory_visualization.R
\name{plot_trajectory}
\alias{plot_trajectory}
\title{Generates a plot of one or many trajectories.}
\usage{
plot_trajectory(
  trajectory = NULL,
  distance_df = NULL,
  plot_trips = NULL,
  timestep = 5,
  distance_lim = NULL,
  center_trajectories = FALSE,
  feature_distances = NULL,
  traj_color = "coral",
  traj_type = "solid",
  traj_width = 1,
  traj_alpha = 1,
  feature_color = "grey30",
  feature_type = "dashed",
  feature_width = 0.8,
  feature_alpha = 0.8,
  label_field = NULL,
  label_size = 3,
  label_alpha = 0.6,
  label_pos = "left"
)
}
\arguments{
\item{trajectory}{Optional. A trajectory object, either a single trajectory or grouped trajectory. If provided, distance_df must not be provided. Default is NULL.}

\item{distance_df}{Optional. A dataframe of time and distance points. Must include at least "event_timestamp" and numeric "distance". If provided, trajectory must not be provided. Default is NULL.}

\item{plot_trips}{Optional. A vector of trip IDs to plot. Default is NULL, which will plot all trips provided in the trajectory object or distance_df.}

\item{timestep}{Optional. If a trajectory is provided, the time interval, in seconds, between interpolated observations to plot. Default is 5.}

\item{distance_lim}{Optional. A vector with (minimum, maximum) distance values to plot.}

\item{center_trajectories}{Optional. A boolean, should all trajectories be centered to start at the same time (0 seconds)? Default is FALSE.}

\item{feature_distances}{Optional. A dataframe with at least numeric "distance" for features. Default is NULL.}

\item{traj_color}{Optional. A color string, or a dataframe mapping an attribute in distance_df or trip_id_performed in trajectory to a color. Must contain column "color". Default is "coral".}

\item{traj_type}{Optional. A string specifying the ggplot2 linetype, or a dataframe mapping an attribute in distance_df or trip_id_performed in trajectory to a linetype. Must contain column "linetype". Default is "solid".}

\item{traj_width}{Optional. A numeric, the width of the trajectory line. Default is 1.}

\item{traj_alpha}{Optional. A numeric, the opacity of the trajectory line. Default is 1.}

\item{feature_color}{Optional. A color string, or a dataframe mapping an attribute in feature_distances to a color. Must contain column "color". Default is "grey30".}

\item{feature_type}{Optional. A string specifying the ggplot2 linetype, or a dataframe mapping an attribute in feature_distances to a linetype Must contain column "linetype". Default is "dashed".}

\item{feature_width}{Optional. A numeric, the width of the feature line. Default is 0.8.}

\item{feature_alpha}{Optional. A numeric, the opacity of the feature line. Default is 0.8.}

\item{label_field}{Optional. A string specifying the column in feature_distances with which to label the feature lines. Default is NULL, where no labels will be plotted.}

\item{label_size}{Optional. The font size of the feature labels. Default is 3.}

\item{label_alpha}{Optional. The opacity of the feature labels. Default is 0.6.}

\item{label_pos}{Optional. A string specifying the label position on the graph. Must be either "left" or "right". Default is "left".}
}
\value{
A ggplot object.
}
\description{
This function generates a plot of vehicle trajectories, with time on the x-axis and space on the y-axis.
If a trajectory object is provided, the interpolating function(s) will be plotted at the desired temporal resolution. If a distance_df is provided, the points will be plotted and connected linearly.
Optionally, spatial "feature" can be added as horizontal lines on the plot. These may be stations, traffic signals, etc. Optionally, a label may be added to these features.
The colors and linetypes of both trajectories and features can be mapped to their respective attributes.
If using this mapping, provide a dataframe with at least the columns "color" or "linetype", plus one column matching a column in distance_df or feature_distances. If using a trajectory object, only "trip_id_performed" can be mapped to.
Feature labels will automatically match the colors of features.
A ggplot2 object is returned, which can be further modified and customized as desired.
}
